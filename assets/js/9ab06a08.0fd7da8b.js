"use strict";(self.webpackChunkchime_tts=self.webpackChunkchime_tts||[]).push([[800],{4555:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>c,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"documentation/actions/say-action/index","title":"1. Say Action","description":"The chimetts.say action joins together audio files (*\\"chimes\\"*) and TTS audio as a new MP3 file, locally, for playback on mediaplayer target/s.","source":"@site/docs/documentation/actions/say-action/index.mdx","sourceDirName":"documentation/actions/say-action","slug":"/documentation/actions/say-action/","permalink":"/chime_tts/docs/documentation/actions/say-action/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"1. Say Action"},"sidebar":"tutorialSidebar","previous":{"title":"1. Actions","permalink":"/chime_tts/docs/documentation/actions/"},"next":{"title":"Parameters","permalink":"/chime_tts/docs/documentation/actions/say-action/parameters"}}');var n=i(4848),a=i(8453),o=i(6025);const c={sidebar_position:1,title:"1. Say Action"},r="chime_tts.say Action",l={},h=[{value:"Action Calls",id:"action-calls",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Examples",id:"examples",level:2},{value:"TTS Platforms",id:"tts-platforms",level:2},{value:"TTS Platform-Specific Options",id:"tts-platform-specific-options",level:3},{value:"Chimes",id:"chimes",level:2},{value:"Selecting Chimes",id:"selecting-chimes",level:3},{value:"Selecting Chimes from the User-Interface",id:"selecting-chimes-from-the-user-interface",level:3},{value:"Preset Chimes",id:"preset-chimes",level:4},{value:"Custom Chimes Folder",id:"custom-chimes-folder",level:4},{value:"DEPRECATED: Custom Chime Slots",id:"deprecated-custom-chime-slots",level:3},{value:"Custom local audio files and external URLs",id:"custom-local-audio-files-and-external-urls",level:3},{value:"Local Files",id:"local-files",level:4},{value:"External audio file URLs",id:"external-audio-file-urls",level:4},{value:"Alexa Smart Speakers",id:"alexa-smart-speakers",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsxs)(s.h1,{id:"chime_ttssay-action",children:[(0,n.jsx)(s.code,{children:"chime_tts.say"})," Action"]})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"chime_tts.say"})," action joins together audio files (",(0,n.jsx)(s.em,{children:'"chimes"'}),") and TTS audio as a new MP3 file, locally, for playback on ",(0,n.jsx)(s.code,{children:"media_player"})," target/s."]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"action-calls",children:"Action Calls"}),"\n",(0,n.jsx)(s.p,{children:"Each action call is run synchronously so that any additional calls in the automation/script are delayed until the notification has finished playback."}),"\n",(0,n.jsx)(s.p,{children:"If additional calls are made before the current call is finished, it is added to a queue and run once the current action call has completed."}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.a,{href:"/chime_tts/docs/documentation/actions/say-action/parameters",children:"parameters"})," page provides explanations for each parameter supported by Chime TTS"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"examples",children:"Examples"}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.a,{href:"./examples",children:"examples"})," page demonstates the full scope of what's possible with Chime TTS."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["See ",(0,n.jsx)(s.a,{href:"./examples#basic-tts-audio",children:"basic"})," notification examples cover simple calls"]}),"\n",(0,n.jsxs)(s.li,{children:["See ",(0,n.jsx)(s.a,{href:"./examples#more-complex-examples",children:"complex"})," notifications which involve adjusting audio properties"]}),"\n",(0,n.jsxs)(s.li,{children:["See ",(0,n.jsx)(s.a,{href:"./examples#message-segments",children:"message segments"}),", used for messages with multiple chimes and TTS, and offers more options."]}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"tts-platforms",children:"TTS Platforms"}),"\n",(0,n.jsxs)(s.admonition,{title:"BYO TTS Platforms",type:"info",children:[(0,n.jsxs)(s.p,{children:["Chime TTS is not a TTS platform. It utilizes ",(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.a,{href:"https://www.home-assistant.io/integrations/#text-to-speech",children:"TTS integrations"})})," installed to your Home Assistant instance."]}),(0,n.jsxs)(s.p,{children:["Any TTS platform you wish to use ",(0,n.jsx)(s.em,{children:(0,n.jsx)(s.strong,{children:"must be configured separately."})})]})]}),"\n",(0,n.jsx)(s.h3,{id:"tts-platform-specific-options",children:"TTS Platform-Specific Options"}),"\n",(0,n.jsxs)(s.p,{children:["Each TTS platform offers its own set of options, which can also be used with Chime TTS in the ",(0,n.jsx)(s.code,{children:"options"})," parameter. Several key TTS platform parameters exist as separate parameters in Chime TTS (",(0,n.jsx)(s.em,{children:"see"})," ",(0,n.jsx)(s.code,{children:"chime_tts.say"}),(0,n.jsxs)(s.em,{children:["'s ",(0,n.jsx)(s.a,{href:"/chime_tts/docs/documentation/actions/say-action/parameters#additional-parameters",children:"additional parameters"})," documentation for more"]}),")."]}),"\n",(0,n.jsx)(s.h2,{id:"chimes",children:"Chimes"}),"\n",(0,n.jsx)(s.p,{children:"Chime audio files can be incorporated into your notifications in a number of ways:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Before"})," TTS audio ",(0,n.jsx)(s.em,{children:"(using the"})," ",(0,n.jsx)(s.a,{href:"/chime_tts/docs/documentation/actions/say-action/parameters#chime_path",children:(0,n.jsx)(s.code,{children:"chime_path"})})," ",(0,n.jsx)(s.em,{children:"parameter)."})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"After"})," TTS audio ",(0,n.jsx)(s.em,{children:"(using the"})," ",(0,n.jsx)(s.a,{href:"/chime_tts/docs/documentation/actions/say-action/parameters#end_chime_path",children:(0,n.jsx)(s.code,{children:"end_chime_path"})})," ",(0,n.jsx)(s.em,{children:"parameter)"}),", and"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Between"})," TTS audio segments ",(0,n.jsx)(s.em,{children:"(using"})," ",(0,n.jsx)(s.a,{href:"/chime_tts/docs/documentation/actions/say-action/parameters#advanced-usage-segment-sequences",children:(0,n.jsx)(s.code,{children:"message"})})," ",(0,n.jsx)(s.em,{children:"segments)."})]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"selecting-chimes",children:"Selecting Chimes"}),"\n",(0,n.jsxs)(s.p,{children:["You can specify which chime/s to incorporate into your notifications by selecting a chime from the ",(0,n.jsx)(s.a,{href:"#selecting-chimes-from-the-user-interface",children:"drop-down lists in the user interface"})," for both the ",(0,n.jsx)(s.a,{href:"/chime_tts/docs/documentation/actions/say-action/parameters#chime_path",children:(0,n.jsx)(s.code,{children:"chime_path"})})," and ",(0,n.jsx)(s.a,{href:"/chime_tts/docs/documentation/actions/say-action/parameters#end_chime_path",children:(0,n.jsx)(s.code,{children:"end_chime_path"})})," parameters - as well as by specifying ",(0,n.jsx)(s.a,{href:"#local-files",children:"local"})," or ",(0,n.jsx)(s.a,{href:"#external-audio-file-urls",children:"remote"})," file paths to audio files."]}),"\n",(0,n.jsxs)(s.p,{children:["You can also add your own chimes from a local ",(0,n.jsx)(s.a,{href:"#custom-chimes-folder",children:"Custom Chimes Folder"}),"."]}),"\n",(0,n.jsx)(s.h3,{id:"selecting-chimes-from-the-user-interface",children:"Selecting Chimes from the User-Interface"}),"\n",(0,n.jsx)(s.p,{children:"Simply use the drop-down chime list in the UI to set a chime:"}),"\n",(0,n.jsx)("img",{src:(0,o.Ay)("/img/say/chime_options.gif")}),"\n",(0,n.jsx)(s.h4,{id:"preset-chimes",children:"Preset Chimes"}),"\n",(0,n.jsxs)(s.p,{children:["You can find the preset chimes that ship with Chime TTS ",(0,n.jsx)(s.a,{href:"https://github.com/nimroddolev/chime_tts/tree/main/custom_components/chime_tts/mp3s",children:"here"}),"."]}),"\n",(0,n.jsx)(s.h4,{id:"custom-chimes-folder",children:"Custom Chimes Folder"}),"\n",(0,n.jsxs)(s.p,{children:["To add your own chimes, you can specify a local folder ",(0,n.jsx)(s.a,{href:"../../configuration#custom-chimes-folder",children:"in the Chime TTS configuration page"}),", containing chime audio files.\n",(0,n.jsx)(s.strong,{children:"After restarting Home Assistant"}),", the chimes will be added to the ",(0,n.jsx)(s.a,{href:"/chime_tts/docs/documentation/actions/say-action/parameters#chime_path",children:(0,n.jsx)(s.code,{children:"chime_path"})})," and ",(0,n.jsx)(s.a,{href:"/chime_tts/docs/documentation/actions/say-action/parameters#end_chime_path",children:(0,n.jsx)(s.code,{children:"end_chime_path"})})," drop down lists."]}),"\n",(0,n.jsx)("img",{src:(0,o.Ay)("/img/say/custom_chimes_dropdown.png")}),"\n",(0,n.jsx)(s.p,{children:"You can also refer to your custom chimes in your YAML code by their file name (without the full path or file extension), eg:"}),"\n",(0,n.jsxs)("table",{class:"hide_table",children:[(0,n.jsxs)("tr",{class:"hide_table",children:[(0,n.jsx)("td",{class:"hide_table td_title",children:"Go from this..."}),(0,n.jsx)("td",{class:"hide_table td_title",children:"...to this"})]}),(0,n.jsxs)("tr",{class:"hide_table",children:[(0,n.jsx)("td",{class:"hide_table",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-yaml",children:"action: chime_tts.say\ndata:\n  chime_path: /media/chime_tts/custom_chimes/bell.mp3\n  message: Someone's at the door\ntarget:\n  entity_id:\n    - media_player.kitchen\n    - media_player.living_room\n    - media_player.garage\n"})})}),(0,n.jsx)("td",{class:"hide_table",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-yaml",children:"action: chime_tts.say\ndata:\n  chime_path: bell\n  message: Someone's at the door\ntarget:\n  entity_id:\n    - media_player.kitchen\n    - media_player.living_room\n    - media_player.garage\n"})})})]})]}),"\n",(0,n.jsx)(s.admonition,{title:"Restart Required",type:"warning",children:(0,n.jsxs)(s.p,{children:["Changing the ",(0,n.jsx)(s.a,{href:"../../configuration#custom-chimes-folder",children:"Custom Chimes Folder path"}),", or the folder's contents will require a restart of Home Assistant."]})}),"\n",(0,n.jsx)(s.h3,{id:"deprecated-custom-chime-slots",children:"DEPRECATED: Custom Chime Slots"}),"\n",(0,n.jsxs)(s.p,{children:["Until v1.1.0, users could use up to 5 custom chime slots to use custom chimes in scripts and automations. From version v1.1.0, custom chime slots have been deprecated in favour of the ",(0,n.jsx)(s.a,{href:"#custom-chimes-folder",children:"Custom Chimes Folder"}),".\nIt is recommended to migrate to using the ",(0,n.jsx)(s.a,{href:"#custom-chimes-folder",children:"Custom Chimes Folder"})," instead, as it is no longer to assign paths to the custom slots (which would break automations if you need to reinstall Home Assistant/Chime TTS)."]}),"\n",(0,n.jsxs)(s.p,{children:["Automations and scripts with references to custom slots (eg: ",(0,n.jsx)(s.code,{children:"chime_path: custom_chime_path_3"}),") will continue to work as normal but can no longer be modified."]}),"\n",(0,n.jsx)(s.h3,{id:"custom-local-audio-files-and-external-urls",children:"Custom local audio files and external URLs"}),"\n",(0,n.jsx)(s.p,{children:"You can specify both local file paths or external URLs to your own audio files."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.h4,{id:"local-files",children:"Local Files"}),"\n",(0,n.jsx)(s.p,{children:"You can specify absolute local file paths to audio files in your Home Assistant instance's media folder, or any other folder."}),"\n",(0,n.jsx)("img",{src:(0,o.Ay)("/img/say/chime_path.png")}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.h4,{id:"external-audio-file-urls",children:"External audio file URLs"}),"\n",(0,n.jsxs)(s.p,{children:["You can also specify URLs to audio files hosted online, which will be downloaded and optionally saved locally them to your ",(0,n.jsx)(s.a,{href:"../../configuration",children:"Downloaded Chimes Folder"})," when the ",(0,n.jsx)(s.a,{href:"/chime_tts/docs/documentation/actions/say-action/parameters#cache",children:(0,n.jsx)(s.code,{children:"cache"})})," property is set to ",(0,n.jsx)(s.code,{children:"true"}),"."]}),"\n",(0,n.jsx)("img",{src:(0,o.Ay)("/img/say/external_chime_path.png")}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"alexa-smart-speakers",children:"Alexa Smart Speakers"}),"\n",(0,n.jsxs)(s.p,{children:["Chime TTS playback on Alexa smart speakers requires the ",(0,n.jsx)(s.a,{href:"https://github.com/alandtse/alexa_media_player",children:"Alexa Media Player"})," integration."]}),"\n",(0,n.jsxs)(s.p,{children:["Alexa speakers can only play publicly available audio files, therefore you need to include your public-facing Home Assistant address in your ",(0,n.jsx)(s.code,{children:"configuration.yaml"})," file:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:'homeassistant:\n  external_url: "https://[REPLACE WITH YOUR PUBLIC ADDRESS]:8123/"\n  internal_url: "http://[REPLACE WITH YOUR LOCAL IP ADDRESS]:8123/"\n'})})]})}function m(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>o,x:()=>c});var t=i(6540);const n={},a=t.createContext(n);function o(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);