---
sidebar_position: 1
title: 1. Say Action
---

import useBaseUrl from '@docusaurus/useBaseUrl';
import './chime_tts.say.css'

# `chime_tts.say` Action

The `chime_tts.say` action joins together audio files (*"chimes"*) and TTS audio as a new MP3 file, locally, for playback on `media_player` target/s.

---

## Action Calls

Each action call is run synchronously so that any additional calls in the automation/script are delayed until the notification has finished playback.

If additional calls are made before the current call is finished, it is added to a queue and run once the current action call has completed.

---

## Parameters
The [parameters](./parameters) page provides explanations for each parameter supported by Chime TTS

---

## Examples
The [examples](./examples) page demonstates the full scope of what's possible with Chime TTS.
- See [basic](./examples#basic-tts-audio) notification examples cover simple calls
- See [complex](./examples#more-complex-examples) notifications which involve adjusting audio properties
- See [message segments](./examples#message-segments), used for messages with multiple chimes and TTS, and offers more options.

---

## TTS Platforms

:::info[BYO TTS Platforms]

Chime TTS is not a TTS platform. It utilizes **[TTS integrations](https://www.home-assistant.io/integrations/#text-to-speech)** installed to your Home Assistant instance.

Any TTS platform you wish to use _**must be configured separately.**_

:::

### TTS Platform-Specific Options
Each TTS platform offers its own set of options, which can also be used with Chime TTS in the `options` parameter. Several key TTS platform parameters exist as separate parameters in Chime TTS (*see* `chime_tts.say`*'s [additional parameters](./parameters#additional-parameters) documentation for more*).

## Chimes

Chime audio files can be incorporated into your notifications in a number of ways:

- **Before** TTS audio *(using the* [`chime_path`](./parameters#chime_path) *parameter).*
- **After** TTS audio *(using the* [`end_chime_path`](./parameters#end_chime_path) *parameter)*, and
- **Between** TTS audio segments *(using* [`message`](./parameters#advanced-usage-segment-sequences) *segments).*

### Selecting Chimes

You can specify which chime/s to incorporate into your notifications by selecting a chime from the [drop-down lists in the user interface](#selecting-chimes-from-the-user-interface) for both the [`chime_path`](./parameters#chime_path) and [`end_chime_path`](./parameters#end_chime_path) parameters - as well as by specifying [local](#local-files) or [remote](#external-audio-file-urls) file paths to audio files.

You can also add your own chimes from a local [Custom Chimes Folder](#custom-chimes-folder). 

### Selecting Chimes from the User-Interface

Simply use the drop-down chime list in the UI to set a chime:

<img src={useBaseUrl('/img/say/chime_options.gif')} />

#### Preset Chimes

You can find the preset chimes that ship with Chime TTS [here](https://github.com/nimroddolev/chime_tts/tree/main/custom_components/chime_tts/mp3s).

#### Custom Chimes Folder

To add your own chimes, you can specify a local folder [in the Chime TTS configuration page](../../configuration#custom-chimes-folder), containing chime audio files.
**After restarting Home Assistant**, the chimes will be added to the [`chime_path`](./parameters#chime_path) and [`end_chime_path`](./parameters#end_chime_path) drop down lists.

<img src={useBaseUrl('/img/say/custom_chimes_dropdown.png')} />

You can also refer to your custom chimes in your YAML code by their file name (without the full path or file extension), eg:

<table class="hide_table">
  <tr class="hide_table">
    <td class="hide_table td_title">Go from this...</td>
    <td class="hide_table td_title">...to this</td>
  </tr>
  <tr class="hide_table">
    <td class="hide_table">

    ```yaml
    action: chime_tts.say
    data:
      chime_path: /media/chime_tts/custom_chimes/bell.mp3
      message: Someone's at the door
    target:
      entity_id:
        - media_player.kitchen
        - media_player.living_room
        - media_player.garage
    ```

    </td>
    <td class="hide_table">

    ```yaml
    action: chime_tts.say
    data:
      chime_path: bell
      message: Someone's at the door
    target:
      entity_id:
        - media_player.kitchen
        - media_player.living_room
        - media_player.garage
    ```

    </td>
  </tr>
</table>

:::warning[Restart Required]

Changing the [Custom Chimes Folder path](../../configuration#custom-chimes-folder), or the folder's contents will require a restart of Home Assistant.

:::

### DEPRECATED: Custom Chime Slots

Until v1.1.0, users could use up to 5 custom chime slots to use custom chimes in scripts and automations. From version v1.1.0, custom chime slots have been deprecated in favour of the [Custom Chimes Folder](#custom-chimes-folder).
It is recommended to migrate to using the [Custom Chimes Folder](#custom-chimes-folder) instead, as it is no longer to assign paths to the custom slots (which would break automations if you need to reinstall Home Assistant/Chime TTS).

Automations and scripts with references to custom slots (eg: `chime_path: custom_chime_path_3`) will continue to work as normal but can no longer be modified.

### Custom local audio files and external URLs

You can specify both local file paths or external URLs to your own audio files.

* #### Local Files
  You can specify absolute local file paths to audio files in your Home Assistant instance's media folder, or any other folder.

  <img src={useBaseUrl('/img/say/chime_path.png')} />


* #### External audio file URLs
  You can also specify URLs to audio files hosted online, which will be downloaded and optionally saved locally them to your [Downloaded Chimes Folder](../../configuration) when the [`cache`](../say-action/parameters#cache) property is set to `true`.

  <img src={useBaseUrl('/img/say/external_chime_path.png')} />

## Alexa Smart Speakers
Chime TTS playback on Alexa smart speakers requires the [Alexa Media Player](https://github.com/alandtse/alexa_media_player) integration.

Alexa speakers can only play publicly available audio files, therefore you need to include your public-facing Home Assistant address in your `configuration.yaml` file:

```
homeassistant:
  external_url: "https://[REPLACE WITH YOUR PUBLIC ADDRESS]:8123/"
  internal_url: "http://[REPLACE WITH YOUR LOCAL IP ADDRESS]:8123/"
```